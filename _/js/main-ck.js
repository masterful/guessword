var guessword={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),badLetters:[],goodLetters:[],usedLetters:[],assumedBadLetters:[],assumedGoodLetters:[],actualWord:"COATS"};$(function(){$.each(guessword.alphabet,function(e,t){$(".alphabet").append('<span class="letter letter-'+t+'">'+t+"</span>")});$("body").on("keydown",function(e){if(e.altKey||e.ctrlKey||e.metaKey)return;e.preventDefault();var t=e.keyCode,n=$(".guess-word input[value=]"),r,s,o,u="",a="",f=0,l=[],c=[];64<t&&t<91&&(t+=32);if(96<t&&t<123){s=guessword.alphabet[t-97];r=-1<guessword.badLetters.indexOf(s)?"bad fixed":-1<guessword.goodLetters.indexOf(s)?"good fixed":-1<guessword.assumedBadLetters.indexOf(s)?"bad":-1<guessword.assumedGoodLetters.indexOf(s)?"good":-1<guessword.usedLetters.indexOf(s)?"used":"";n.first().val(s).addClass(r).next().focus()}if(8===t){n.first().prev().val("").removeClass("fixed used good bad").focus();n.length||$(".guess-word input:last-child").val("").removeClass("fixed used good bad").focus()}if(13===t&&!n.length){$(".guess-word .progress").show();o=guessword.actualWord.split("");$(".guess-word input").each(function(e,t){s=$(t).val();r=-1<guessword.badLetters.indexOf(s)?" bad fixed":-1<guessword.goodLetters.indexOf(s)?" good fixed":-1<guessword.assumedBadLetters.indexOf(s)?" bad":-1<guessword.assumedGoodLetters.indexOf(s)?" good":"";u+=s;a+='<span class="letter letter-'+s+r+'">'+s+"</span>";if(-1<o.indexOf(s)){f++;o.splice(o.indexOf(s),1)}-1<guessword.goodLetters.indexOf(s)?l.push(s):c.push(s)}).val("").removeClass("fixed used good bad").first().focus();$(".guessed-words tbody").append($("<tr>").append($("<td>").append(a)).append($("<td>").append(f)));if(f===l.length)for(i in c){s=c[i];if(0>guessword.badLetters.indexOf(s)){guessword.badLetters.push(s);$(".letter-"+s).removeClass("used").addClass("fixed bad")}}else for(i in c){s=c[i];if(0>guessword.usedLetters.indexOf(s)){guessword.usedLetters.push(s);$(".letter-"+s).addClass("used")}}$(".guess-word .progress").hide()}}).on("click",".letter",function(e){e.preventDefault();var t=$(e.target),n=t.html();if(t.hasClass("fixed"))return;if(t.hasClass("used")){$(".letter-"+n).removeClass("used").addClass("good");-1<guessword.assumedBadLetters.indexOf(n)&&guessword.assumedBadLetters.splice(guessword.assumedBadLetters.indexOf(n),1);0>guessword.assumedGoodLetters.indexOf(n)&&guessword.assumedGoodLetters.push(n)}else if(t.hasClass("good")){$(".letter-"+t.html()).removeClass("good").addClass("bad");-1<guessword.assumedGoodLetters.indexOf(n)&&guessword.assumedGoodLetters.splice(guessword.assumedGoodLetters.indexOf(n),1);0>guessword.assumedBadLetters.indexOf(n)&&guessword.assumedBadLetters.push(n)}else if(t.hasClass("bad")){$(".letter-"+t.html()).removeClass("bad").addClass("used");-1<guessword.assumedBadLetters.indexOf(n)&&guessword.assumedBadLetters.splice(guessword.assumedBadLetters.indexOf(n),1);-1<guessword.assumedGoodLetters.indexOf(n)&&guessword.assumedGoodLetters.splice(guessword.assumedGoodLetters.indexOf(n),1)}})});