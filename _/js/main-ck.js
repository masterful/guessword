var guessword={badLetters:[],goodLetters:[],usedLetters:[],actualWord:"COATS"};$(function(){$("body").on("keydown",function(e){if(e.altKey||e.ctrlKey||e.metaKey)return;e.preventDefault();var t=e.keyCode,n=$(".guess-word input[value=]"),r,s,o,u="",a="",f=0,l=[],c=[];64<t&&t<91&&(t+=32);if(96<t&&t<123){s=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t-97];r=-1<guessword.badLetters.indexOf(s)?"bad":-1<guessword.goodLetters.indexOf(s)?"good":-1<guessword.usedLetters.indexOf(s)?"used":"";n.first().val(s).addClass(r).next().focus()}if(8===t){n.first().prev().val("").removeClass("used good bad").focus();n.length||$(".guess-word input:last-child").val("").removeClass("used good bad").focus()}if(13===t&&!n.length){$(".guess-word .progress").show();o=guessword.actualWord.split("");$(".guess-word input").each(function(e,t){s=$(t).val();r=-1<guessword.badLetters.indexOf(s)?" bad":-1<guessword.goodLetters.indexOf(s)?" good":-1<guessword.usedLetters.indexOf(s)?" used":"";u+=s;a+='<span class="letter letter-'+s+r+'">'+s+"</span>";if(-1<o.indexOf(s)){f++;o.splice(o.indexOf(s),1)}-1<guessword.goodLetters.indexOf(s)?l+=s:c+=s}).val("").removeClass("used good bad").first().focus();$(".guessed-words tbody").append($("<tr>").append($("<td>").append(a)).append($("<td>").append(f)));if(f===l.length)for(i in c){s=c[i];if(0>guessword.badLetters.indexOf(s)){guessword.badLetters+=s;$(".letter-"+s).removeClass("used").addClass("bad")}}else for(i in c){s=c[i];if(0>guessword.usedLetters.indexOf(s)){guessword.usedLetters+=s;$(".letter-"+s).addClass("used")}}$(".guess-word .progress").hide()}})});